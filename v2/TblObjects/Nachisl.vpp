//------------------------------------------------------------------------------
//                                                      (c) Корпорация Галактика
// Заработная плата по отделу
// Окно редактирования начисления
//------------------------------------------------------------------------------

Window wnNachisl 'Начисление';
  show at(,, 80, 13);

Screen scNachisl ('',, sci178Esc);
  table mtNachisl;
Fields
  mtStruct.Name: skip;
  mtNachisl.Period: ['MM.YYYY'], skip;
  mtNachisl.Sort   (''): noprotect;
  mtNachisl.Title  (''): noprotect;
  mtNachisl.Payed  (''): noprotect;
  mtNachisl.Value  (''): noprotect;
  mtNachisl.TaxCur (''): [list 'BYN без налогов',
                               'BYN с налогами',
                               'USD без налогов',
                               'USD с налогами'], protect;
  mtNachisl.NetBYN: skip;
  mtNachisl.TaxBYN: skip;
  mtNachisl.Rate:   skip;
  mtNachisl.NetUSD: skip;
  mtNachisl.TaxUSD: skip;
  mtNachisl.Info   (''): noprotect;
  mtNachisl.Error: skip;
<<

   `Сотрудник`    .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
   `Период`       .@@@@@@@@@@@@              `Номер п/п`    .@@@@@@@@@@@@
   `Название`     .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
   `Дата выплаты` .@@@@@@@@@@@@
   `Сумма`        .@@@@@@@@@@@@ .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
                   без налогов   с налогами
   `Сумма в BYN`  .@@@@@@@@@@@@ .@@@@@@@@@@@@
   `Курс`         .@@@@@@@@@@@@
   `Сумма в USD`  .@@@@@@@@@@@@ .@@@@@@@@@@@@
   `Комментарий`  .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
                  .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
>>
End;

End;

TableEvent
  table mtNachisl;

cmInsertRecord:
  insert current mtNachisl;

cmUpdateRecord:
  update current mtNachisl;

cmDeleteRecord:
  if (message('Удалить начисление?', Confirmation + YesNo) = cmYes)
    delete current mtNachisl;

end;

