//------------------------------------------------------------------------------
//                                                      (c) Корпорация Галактика
// Заработная плата по отделу
// Окно редактирования назначения сотрудника
//------------------------------------------------------------------------------

Window wnAppoint 'Назначение сотрудника';
  show at(,, 80, 9);

Screen scAppoint ('',, sci178Esc);
  table mtAppoint;
Fields
  mtStruct.Name: skip;
  mtAppoint.TabNum (''): noprotect;
  mtAppoint.dBeg   (''): noprotect;
  mtAppoint.dEnd   (''): noprotect;
  mtDepart.Name    ('',, sci1378Esc): protect;
  mtPost.Name      ('',, sci1378Esc): protect;
  mtAppoint.Salary (''): [13.2,'\2p[|-]366`666`666~99'], noprotect;
  mtAppoint.Currency (''): noprotect;
  mtAppoint.TaxDed (''): noprotect;
<<

   `Сотрудник`    .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
                                          `Табельный номер` .@@@@@@@@@@@@
   `Назначение с` .@@@@@@@@@@@@               `Контракт до` .@@@@@@@@@@@@
   `Отдел`        .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
   `Должность`    .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
   `Оклад`        .@@@@@@@@@@@@ .@@@@@@@@          `Льгота` .@@@@@@@@@@@@
>>
End;

End;

TableEvent
  table mtAppoint;

cmInsertRecord:
  insert current mtAppoint;

cmUpdateRecord:
  update current mtAppoint;

cmDeleteRecord:
  if (message('Удалить назначение?', Confirmation + YesNo) = cmYes)
    delete current mtAppoint;

end;
